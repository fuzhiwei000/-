{"version":3,"file":"js/907.7ee255be.js","mappings":"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","sources":["webpack://project-two/./src/components/Login.vue","webpack://project-two/./src/utils/vaildate.js","webpack://project-two/src/components/Login.vue","webpack://project-two/./src/components/Login.vue?0800","webpack://project-two/./src/components/Login.vue?f3db","webpack://project-two/./src/api/api.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"login\"},[_c('el-card',{staticClass:\"box-card\"},[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(\"通用后台管理系统\")])]),_c('el-form',{ref:\"form\",attrs:{\"label-width\":\"80px\",\"model\":_vm.form,\"rules\":_vm.rules}},[_c('el-form-item',{attrs:{\"label\":\"用户名\",\"prop\":\"username\"}},[_c('el-input',{model:{value:(_vm.form.username),callback:function ($$v) {_vm.$set(_vm.form, \"username\", $$v)},expression:\"form.username\"}})],1),_c('el-form-item',{attrs:{\"label\":\"密码\",\"prop\":\"password\"}},[_c('el-input',{attrs:{\"type\":\"password\"},model:{value:(_vm.form.password),callback:function ($$v) {_vm.$set(_vm.form, \"password\", $$v)},expression:\"form.password\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.login('form')}}},[_vm._v(\"登录\")])],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// 用户名匹配\r\nexport function nameRule(rule,value,callback) {\r\n    let reg = /(^[a-zA-Z0-9]{4,10}$)/\r\n    if (value === '') {\r\n        callback(new Error('请输入用户名'))\r\n    } else if (!reg.test(value)) {\r\n        callback(new Error('请输入6到10位用户名'))\r\n    } else {\r\n        callback()\r\n    }\r\n}\r\n// 密码匹配\r\nexport function passRule(rule,value,callback) {\r\n    // 6-12位,包含大小写字母数字及其大小写字母\r\n    let pass = /^\\S*(?=\\S{6,12})(?=\\S*\\d)(?=\\S*[A-Z])(?=\\S*[a-z])(?=\\S*[!@#$%^&*? ])\\S*$/\r\n    if (value === '') {\r\n        callback(new Error('请输入密码'))\r\n    } else if (!pass.test(value)) {\r\n        callback(new Error('请输入6到12位密码包含大小写'))\r\n    } else {\r\n        callback()\r\n    }\r\n}","<template>\r\n    <div class=\"login\">\r\n        <el-card class=\"box-card\">\r\n            <div slot=\"header\" class=\"clearfix\">\r\n                <span>通用后台管理系统</span>\r\n            </div>\r\n            <el-form label-width=\"80px\" :model=\"form\" ref=\"form\" :rules=\"rules\">\r\n                <el-form-item label=\"用户名\" prop='username'>\r\n                    <el-input v-model=\"form.username\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"密码\" prop=\"password\">\r\n                    <el-input v-model=\"form.password\" type=\"password\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item>\r\n                    <el-button type=\"primary\" @click=\"login('form')\">登录</el-button>\r\n\r\n                </el-form-item>\r\n            </el-form>\r\n        </el-card>\r\n\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { nameRule, passRule } from \"../utils/vaildate\";\r\nimport { setToken } from \"../utils/setToken\";\r\nimport { login } from \"../api/api\";\r\nexport default {\r\n    data() {\r\n\r\n        return {\r\n            form: {\r\n                username: '',\r\n                password: ''\r\n            },\r\n            rules: {\r\n                username: [{ validator: nameRule, trigger: 'blur' }],\r\n                password: [{ validator: passRule, trigger: 'blur' }]\r\n            }\r\n            // labelPosition:'left'\r\n            // [\r\n            //     { require: true, message: '请输入密码', trigger: 'blur' },\r\n            //     { min: 6, max: 12, message: '长度应在6-12字符', trigger: 'blur' }\r\n            // ]\r\n            // [\r\n            //     { require: true, message: '请输入用户名', trigger: 'blur' },\r\n            //     { min: 4, max: 10, message: '长度应在4-10字符之间', trigger: 'blur' }\r\n            // ]\r\n        }\r\n    },\r\n    methods: {\r\n        login(form) {\r\n            // console.log(this.$refs)\r\n            this.$refs[form].validate((valid) => {\r\n                if (valid) {\r\n                    console.log(this.form)\r\n\r\n                    login(this.form).then(res => {\r\n                        if (res.data.status === 200) {\r\n                            setToken('username', res.data.username)\r\n                            setToken('token', res.data.token)\r\n                            this.$message({ message: res.data.message, type: 'success' })//message:提示什么信息，type:展示什么类型\r\n                            this.$router.push('/home')\r\n                         \r\n\r\n                        }\r\n                    })\r\n                } else {\r\n                    console.error(this.form)\r\n                }\r\n            })\r\n        }\r\n    },\r\n    // this.service.post('/login', this.form)\r\n    //     .then((res) => {\r\n    //         if (res.data.status === 200) {\r\n    //             setToken('username', res.data.username)\r\n    //             setToken('token', res.data.token)\r\n    //             this.$message({ message: res.data.message, type: 'success' })//message:提示什么信息，type:展示什么类型\r\n    //         }\r\n    //         console.log(res)\r\n    //     })\r\n}\r\n</script>\r\n\r\n<style lang=\"less\">\r\n.login {\r\n    width: 100%;\r\n    height: 100%;\r\n    position: absolute;\r\n    background: url(../assets/bg.jpg) center no-repeat;\r\n\r\n    // .el-card {\r\n    //     background: #65768557;\r\n    // }\r\n\r\n    .box-card {\r\n        width: 450px;\r\n        margin: 200px auto;\r\n        background: #65768557;\r\n        color: #fff;\r\n\r\n        // .el-card__header{\r\n        //     font-size: 24px;\r\n        // }\r\n        .el-form .el-form-item__label {\r\n            color: #fff;\r\n            font-size: 20px;\r\n        }\r\n\r\n        .clearfix {\r\n            font-size: 34px;\r\n        }\r\n\r\n        .el-button {\r\n            width: 100%;\r\n        }\r\n    }\r\n}\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=71997d45&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=71997d45&prod&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import service from '../service.js'\r\nimport qs from 'qs'\r\n// 项目中大多数会把对应的接口请求封装成api\r\n// 登录接口\r\nexport function login(data) {\r\n    return service({\r\n        method: 'post',\r\n        url: '/login',\r\n        data: data\r\n    })\r\n}\r\n\r\n// 学生列表\r\nexport function students(params) {\r\n    return service({\r\n        method: 'get',\r\n        url: '/students',\r\n        params: params\r\n    })\r\n}\r\n\r\n//学生列表删除接口\r\nexport function studentDel(id) {\r\n    return service({\r\n        method: 'delete',\r\n        url: `/students/${id}`\r\n    })\r\n}\r\n//学生列表查询与重置本质也是渲染一边只是渲染单独的\r\n// 信息列表新增接口\r\n// export function info(data) {\r\n//     data = qs.stringify(data)\r\n//     // qs一般不用，这个后端数据需要用\r\n//     return service({\r\n//         method: 'post',\r\n//         url: '/info',\r\n//         data: data\r\n//     })\r\n// }\r\n// // 信息列表修改接口\r\n// export function updataInfo(data) {\r\n//     data = qs.stringify(data)\r\n//     // qs一般不用，这个后端数据需要用\r\n//     return service({\r\n//         method: 'put',\r\n//         url: '/info',\r\n//         data: data\r\n//     })\r\n// }\r\n// 信息修改和列表查询接口合二为一\r\nexport function Info(type, data) {\r\n    // 查询查所有不需要传参\r\n    data = qs.stringify(data)\r\n    let obj = { method: type, url: '/info', data }\r\n    return service(obj)\r\n}\r\n// 信息列表查询接口\r\nexport function getInfo() {\r\n    // 查询查所有不需要传参\r\n    return service({\r\n        method: 'get',\r\n        url: '/info',\r\n    })\r\n}\r\n// 信息列表删除接口\r\nexport function infoDel(id) {\r\n    // 查询查所有不需要传参\r\n    return service({\r\n        method: 'delete',\r\n        url: `/info/${id}`,\r\n    })\r\n}\r\n//数据概览的接口图表\r\nexport function dataview() {\r\n    return service({\r\n        method:'get',\r\n        url:'/dataview'\r\n    })\r\n}\r\n//旅游地图的接口\r\nexport function travel() {\r\n    return service({\r\n        method:'get',\r\n        url:'travel'\r\n    })\r\n}"],"names":["render","_vm","this","_c","_self","staticClass","attrs","slot","_v","ref","form","rules","model","value","username","callback","$$v","$set","expression","password","on","$event","login","staticRenderFns","nameRule","rule","reg","Error","test","passRule","pass","data","validator","trigger","methods","console","setToken","message","type","component","service","method","url","students","params","studentDel","id","Info","qs","obj","getInfo","infoDel","dataview","travel"],"sourceRoot":""}